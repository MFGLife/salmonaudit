<section id="signup" class="py-20 gradient-bg text-white">

<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl font-bold mb-6">Layne Project & Christ Connect Class Action</h2>
    <p class="text-xl mb-8 max-w-3xl mx-auto">
      This class action lawsuit seeks justice for individuals and families impacted by improper referrals, religious coercion, denial of reunification, and biased practices tied to The Layne Project and Christ Connect Church. Join others to share your experience, hold institutions accountable, and initiate federal scrutiny and reform.
    </p>

    <!-- Submission Form Section -->
    <div id="formSection" class="card bg-white p-6 mb-6 rounded-lg">
      <h2 class="text-lg font-semibold text-gray-800 mb-4">Class Action Intake Form</h2>

      <form id="classActionForm" class="space-y-6 text-black">
        <!-- Personal Information Section -->
        <div class="border-b border-gray-200 pb-4">
          <h3 class="text-md font-medium text-gray-700 mb-3">Your Information</h3>

          <div class="input-container">
            <label for="name" class="floating-label">Full Name</label>
            <input type="text" id="name" name="name" class="w-full px-3 py-2 border border-gray-300 rounded-md" required>
          </div>

          <div class="input-container">
            <label for="email" class="floating-label">Email Address</label>
            <input type="email" id="email" name="email" class="w-full px-3 py-2 border border-gray-300 rounded-md">
          </div>

          <div class="input-container">
            <label for="location" class="floating-label">City / County of Incident</label>
            <input type="text" id="location" name="location" class="w-full px-3 py-2 border border-gray-300 rounded-md" required>
          </div>
        </div>

        <!-- Experience Section -->
        <div class="border-b border-gray-200 pb-4">
          <h3 class="text-md font-medium text-gray-700 mb-3">Your Experience</h3>

          <div class="input-container">
            <label for="agency" class="floating-label">Involved Agencies or Individuals</label>
            <input type="text" id="agency" name="agency" class="w-full px-3 py-2 border border-gray-300 rounded-md">
          </div>

          <div class="input-container">
            <label for="details" class="floating-label">Summary of What Happened <span class="text-red-500">*</span></label>
            <textarea id="details" name="details" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md" required></textarea>
          </div>

          <div class="input-container">
            <label for="impact" class="floating-label">How Has This Affected You?</label>
            <textarea id="impact" name="impact" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md"></textarea>
          </div>
        </div>

        <!-- Consent Section -->
        <div>
          <div class="input-container">
            <label for="followup" class="floating-label">Willing to be Contacted by Legal Team?</label>
            <select id="followup" name="followup" class="w-full px-3 py-2 border border-gray-300 rounded-md">
              <option value="Yes">Yes</option>
              <option value="No" selected>No</option>
            </select>
          </div>

          <div id="contactContainer" class="input-container hidden">
            <label for="contact" class="floating-label">Preferred Contact Method</label>
            <input type="text" id="contact" name="contact" class="w-full px-3 py-2 border border-gray-300 rounded-md">
          </div>
        </div>

        <!-- Submit Button -->
        <div class="pt-4">
          <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md">
            Submit to Discord
          </button>
        </div>
      </form>
    </div>
  </div>
</section>


<script>


    
const webhookURL = 'https://discord.com/api/webhooks/1363220862500864090/CF2VguJJG_My3lAFXWgcmFQqtm-2tQLdK3VCOR9tUEcZS92sl2Xq1dOQkGB7AQurCLQF';

document.getElementById('classActionForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const content = `**üìù Class Action Submission**\n` +
    `**From:** ${this.name.value}\n` +
    `**Email:** ${this.email.value}\n` +
    `**Location:** ${this.location.value}\n` +
    `**Agencies/People Involved:** ${this.agency.value}\n` +
    `**Summary:**\n${this.details.value}\n` +
    `**Impact:**\n${this.impact.value}\n` +
    `**Follow-up Contact:** ${this.followup.value}\n` +
    `**Preferred Contact Info:** ${this.contact.value}`;

  try {
    await fetch(webhookURL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ content })
    });

    document.getElementById('successModal').classList.remove('hidden');
    this.reset();
  } catch (err) {
    alert('There was an error submitting your form. Please try again.');
    console.error(err);
  }
});

document.getElementById('closeModal').addEventListener('click', function() {
  document.getElementById('successModal').classList.add('hidden');
});

</script>